<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col class="tool">
        <img src="assets/arrow-left.png" class="back" (click)="goBack()">
        <img class="logo" src="assets/logo.png">
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid class="main">
    <ion-row>
      <ion-col size=3></ion-col>
      <ion-col size=6 style='background-image:url("assets/circle-empty.png");background-size:100%;padding: 3% 8% 10% 8%;'>
        <ion-img [src]="rosette.icon"></ion-img>
      </ion-col>
    </ion-row>

    <ion-row class="ion-margin-top">
      <ion-col class="rosette">
        <ion-label>
          <h4>
            {{rosette.title}}
          </h4>
          <div [innerHtml]="rosette.content"></div>
        </ion-label>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col class="rosette" style="margin-top: 30px!important;">
        <ion-label>
          <h4>
            ROZET KAZANMAK İÇİN:
          </h4>
          
        </ion-label>
      </ion-col>
    </ion-row>

    <div class="light-gray" style="margin-top: 100px;">
      
      <!-- <ion-row class="card" *ngFor="let step of rosette.steps; let i = index" (click)="step.state==1 ? doMission(step) : soonAlert()" [ngClass]="step.state==1 ? '' : 'disabled'" > -->
      <ion-row class="card" *ngFor="let step of rosette.steps; let i = index" (click)="doMission(step)" [ngClass]="step.state==1 ? '' : 'disabled'" >
        <ion-col size=3 style="margin: auto;">
          <img src="assets/step-circle-dot.png" *ngIf="step.status<2">
          <img src="assets/step-circle-green-dot.png" *ngIf="step.status=='2'">
          <div class="step-circle {{step.status=='2' ? 'green' : ''}}">
            <ion-label>
              <h1 class="number">
                {{(i+1)}} 
              </h1>
            </ion-label>
          </div>
        </ion-col>
        <ion-col size=9>

          <ion-label>
            <h4>{{step.short_desc}}</h4>
            <p>{{step.content}}</p>
            <h3 class="{{stepActionClass[step.status]}}">
              {{stepActionTitle[step.status]}}
            </h3>
          </ion-label>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="has_level==1" class="ion-margin-start ion-margin-end ion-margin-bottom ion-padding-bottom">
        <div *ngFor="let st of substeps">
        <ion-col size="12" class="rosette">
          <ion-label>
            <h4 style="margin-top:0px" class="ion-text-center">Ustam görevleri tamamla, {{st.level}}. aşamaya geç, yeni ödüller kazan!</h4>
          </ion-label>
        </ion-col>
        <ion-col class="ion-margin-bottom">
          <ion-row>
            <ion-col size=2>
              <ion-img [src]="st.icon"></ion-img>
            </ion-col>
            <ion-col size=10>
              <ion-label>
                <h4 style="margin-top:0px">{{st.title}}</h4>
                <p>{{st.short_desc}}</p>
              </ion-label>
            </ion-col>
          </ion-row>
        </ion-col>
        </div>
      </ion-row>


      <ion-row *ngIf="rosette.gifts">
        <ion-slides class="rosetteSlide" [options]="slideOpts" pager="true" style="height: 56vh; margin-bottom: 70px;">
          
          <ion-slide *ngFor="let gift of rosette.gifts">
            <div class="slide-div">
              <img src="assets/1.png" class="slide-bg">
              <ion-img [src]="gift.image" class="slide-logo ion-margin-bottom"></ion-img>
              <div class="slide-text-div ion-padding-top">
                <h4>
                  {{gift.title}}
                </h4>
                <p [innerHtml]="gift.content"></p>
                <!--
                <ion-button expand="block" class="slide-btn ion-margin-start">
                 FAYDALANMAK İÇİN TKLA
                </ion-button>
                -->
              </div>
            </div>
          </ion-slide>

        </ion-slides>
      </ion-row>

    </div>
  </ion-grid>
</ion-content>